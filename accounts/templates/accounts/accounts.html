{% extends "admin/base.html" %}

{% block branding %}
<h1 id="site-name"><a href="{% url 'admin:index' %}">Worth</a></h1>
{% endblock %}

{% load humanize %}

{% block title %}{{ title }}{% endblock title %}

{% block page_style %}
    <style>
        body {background-color: lightyellow; font-family: Verdana, Arial, Helvetica, sans-serif;}
        .center {
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        p {text-align: center;}
    </style>
{% endblock page_style %}

{% block content %}

    <form method="post" id="accounts-form">
    {% csrf_token %}
        {{ form.as_p }}
        <p>
            <button type="button" id="clear-checkboxes">Clear all checkboxes</button>
        </p>
    </form>

    <script>
        (function() {
            var btn = document.getElementById('clear-checkboxes');
            if (!btn) return;
            btn.addEventListener('click', function () {
                var form = document.getElementById('accounts-form');
                if (!form) return;
                var boxes = form.querySelectorAll('input[type="checkbox"]');
                boxes.forEach(function(cb) { cb.checked = false; });
                // Submit once after clearing so the server persists the change.
                form.submit();
            });
        })();
    </script>

{% endblock content %}
